<p>To prepare to write their classic text <em>Structured Design</em>, Edward Yourdon &amp; Larry Constantine examined programs to find out what made them so expensive. They noticed that the expensive programs all had one property in common--changing one element required changing other elements. The cheap programs tended to require localized changes.</p><p>They dubbed this change infection property <em>coupling</em>. Two elements are coupled with respect to a particular change if changing one element necessitates changing the other element.</p><p>For example, a calling function is coupled to a called function with respect to changes to the name of the called function.</p><pre><code><code>caller()
    called()

called() // changing this name requires changing the call site(s) too
    ... // changing the formatting of the body requires no changes to call sites
</code></code></pre><p>The second comment above emphasizes an important nuance of coupling</p><div class="paywall-jump" data-component-name="PaywallToDOM"></div><p>--we can't just say that 2 elements are coupled, to say something useful we have to also say coupled with respect to which changes. If 2 elements are coupled with respect to a change that never happens, then they aren't coupled in a way that should concern us. That coupling is the boulder at the top of the hill that never rolls down to crush the village.</p><p>Analyzing coupling cannot be done simply by looking at the source code of a program. We need to know what changes have happened and/or are likely to happen before we can tell whether 2 elements are coupled. (For an experiment see which pairs of files tend to show up together in commits. Those files are coupled.)</p><p>Coupling drives the cost of software. Because coupling is so fundamental, I express &amp; visualize it as many ways as I can. As a math-ish definition:</p><pre><code><code>coupled(E1, E2, Δ) ≡ ΔE1 ⇒ ΔE2
</code></code></pre><p>As a picture</p><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!CbKY!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F64737e33-68ad-4297-bee8-1a6c57625b51_2018x1176.png" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!CbKY!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F64737e33-68ad-4297-bee8-1a6c57625b51_2018x1176.png 424w, https://substackcdn.com/image/fetch/$s_!CbKY!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F64737e33-68ad-4297-bee8-1a6c57625b51_2018x1176.png 848w, https://substackcdn.com/image/fetch/$s_!CbKY!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F64737e33-68ad-4297-bee8-1a6c57625b51_2018x1176.png 1272w, https://substackcdn.com/image/fetch/$s_!CbKY!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F64737e33-68ad-4297-bee8-1a6c57625b51_2018x1176.png 1456w" sizes="100vw"><img src="https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/64737e33-68ad-4297-bee8-1a6c57625b51_2018x1176.png" width="1456" height="848" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/64737e33-68ad-4297-bee8-1a6c57625b51_2018x1176.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:848,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2423750,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="" srcset="https://substackcdn.com/image/fetch/$s_!CbKY!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F64737e33-68ad-4297-bee8-1a6c57625b51_2018x1176.png 424w, https://substackcdn.com/image/fetch/$s_!CbKY!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F64737e33-68ad-4297-bee8-1a6c57625b51_2018x1176.png 848w, https://substackcdn.com/image/fetch/$s_!CbKY!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F64737e33-68ad-4297-bee8-1a6c57625b51_2018x1176.png 1272w, https://substackcdn.com/image/fetch/$s_!CbKY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F64737e33-68ad-4297-bee8-1a6c57625b51_2018x1176.png 1456w" sizes="100vw" loading="lazy"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></button><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></button></div></div></div></a></figure></div><p>If coupling were only ever between 2 elements then it wouldn't haunt our nightmares. Instead, coupling has 2 properties that drag it center stage:</p><ul><li><p>1-N--One element can be coupled with any number of other elements with respect to a change.</p></li><li><p>Cascading--Once a change has rippled from one element to another, that implied change can trigger another round of changes, which can themselves trigger changes of their own.</p></li></ul><p>The 1-N problem can be eliminated to some degree with tooling. If you have an automated refactoring to change a function name &amp; all callers, then you can make a single change. The cost is the same whether you have 1 or 1000 callers. (Although if you're changing 1000 callers at once you may want to get that change into production all by itself as quickly as possible.)</p><p>Cascading changes are the bigger issue. As we will see in the next book, the cost of changes follows a power law distribution. This distribution is created by the cost of cascading changes. You will be using software design to reduce the probability &amp; magnitude of cascading changes.</p><p>The word "coupling" has lost its meaning over time, coming to mean any relationship between elements in a system. "This service is coupled with that service"--okay, but how? With respect to what changes? Just because one service invokes another, we need to know what changes to one service would require changes to the other.</p><p>Meilir Page-Jones used the word "connascence" to describe coupling in his book "What Every Programmer Should Know About Object-Oriented Design". Since the definitions are exactly the same, I just say "coupling".</p><p>In large, complex systems coupling can be subtle. Indeed, when we say a system is "complex", we mean that changes have unexpected consequences. I remember an incident at Facebook where 2 services shared the same physical rack. One service changed its backup policy from incremental backups to complete backups. These backups saturated the network switch located on top of the rack, causing the second service to fail. The two services were coupled with respect to changes to the backup policy, even though the two teams work on the services weren't even aware of each other.</p><p>What does coupling mean for answering the question, "Should I tidy first?" Sometimes when you're staring at a messy change, it's coupling that harshing your mellow. "...but if I change this then I'll have to change all those too." Messy. Take a minute to go through the list of tidyings &amp; see which of them would reduce coupling.</p><p>Coupling drives the cost of software. Next we'll look at exactly how.</p>