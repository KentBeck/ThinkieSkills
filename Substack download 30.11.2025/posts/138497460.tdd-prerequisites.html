<div class="captioned-image-container"><figure><a class="image-link image2" target="_blank" href="https://x.com/soundararajan/status/1719761556785754598?s=20" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!VY03!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2aa449b2-360d-4634-a0fc-748c5f9de7d8_583x151.png 424w, https://substackcdn.com/image/fetch/$s_!VY03!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2aa449b2-360d-4634-a0fc-748c5f9de7d8_583x151.png 848w, https://substackcdn.com/image/fetch/$s_!VY03!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2aa449b2-360d-4634-a0fc-748c5f9de7d8_583x151.png 1272w, https://substackcdn.com/image/fetch/$s_!VY03!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2aa449b2-360d-4634-a0fc-748c5f9de7d8_583x151.png 1456w" sizes="100vw"><img src="https://substack-post-media.s3.amazonaws.com/public/images/2aa449b2-360d-4634-a0fc-748c5f9de7d8_583x151.png" width="583" height="151" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2aa449b2-360d-4634-a0fc-748c5f9de7d8_583x151.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:151,&quot;width&quot;:583,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:38394,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://x.com/soundararajan/status/1719761556785754598?s=20&quot;,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="" title="" srcset="https://substackcdn.com/image/fetch/$s_!VY03!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2aa449b2-360d-4634-a0fc-748c5f9de7d8_583x151.png 424w, https://substackcdn.com/image/fetch/$s_!VY03!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2aa449b2-360d-4634-a0fc-748c5f9de7d8_583x151.png 848w, https://substackcdn.com/image/fetch/$s_!VY03!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2aa449b2-360d-4634-a0fc-748c5f9de7d8_583x151.png 1272w, https://substackcdn.com/image/fetch/$s_!VY03!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2aa449b2-360d-4634-a0fc-748c5f9de7d8_583x151.png 1456w" sizes="100vw" fetchpriority="high"></picture><div></div></div></a></figure></div><p>I’ve been shocked by the TDD backlash. “It’s bullshit.” “It’s impossible.” “You can’t make me.” Somebody must have hurt these folks badly. Now, it turns out Soundararajan was asking their question in good faith (see the end for a comment not made in good faith). We agreed that “use it when it makes sense &amp; not when it doesn’t” was a reasonable strategy.</p><p>Let’s step back &amp; ask, “Under what conditions can TDD work?” Then, if those conditions don’t hold, we can all agree you need to find another workflow to meet your needs &amp; the needs of your customers.</p><h2>Outcomes</h2><p>We’ll start with outcomes. What outcomes is TDD intended to produce? If you don’t value these outcomes, then don’t bother with TDD. You’ll be spending time &amp; money to buy fruit you don’t want to eat.</p><ul><li><p>Ease. I’m anxious. When I program I’m especially anxious. TDD is intended to soothe my anxiety. When I know I’ve covered all the cases that I imagine could break, I relax.</p></li><li><p>Reliability. I write code wrong (sense of test is a fertile source of bugs for me). TDD is intended to reduce the number of errors I pass downstream.</p></li><li><p>Sustainability. I continue changing my code, both the behavior &amp; the structure. TDD is intended to support ease-ful change indefinitely. (Some folks report that the way they write tests <em>reduces</em> the chance for further change—Tidy First? is my take on how to avoid that problem.)</p></li><li><p>Responsibility. I want to count on my colleagues &amp; for my colleagues to be able to count on me. TDD is intended to communicate the thought process behind the code.</p></li></ul><p>If the above outcomes don’t sound good to you, then don’t bother with TDD. If TDD sucks but you still want the above outcomes, then you’ll have to find another way to achieve them.</p><h2>Prerequisites</h2><p>Let’s say we agree on our valued outcomes. We might still not be able to use a TDD workflow to achieve them. Here is my list:</p><ul><li><p>Predict inputs/outputs. Can you work out the answer before coding? If you’re writing a simulation &amp; you don’t know what the answer should be, you can’t TDD. You may be able to TDD the predictable building blocks of your simulation, however.</p></li><li><p>Predict/discover cases. Can you guess some of the important scenarios &amp; then discover the rest as your implement? If the test cases that affect overall system reliability come as a complete surprise, then you can’t TDD. You may be able to TDD regression tests, however.</p></li><li><p>Micro-tests yield macro-results. Can you run the tests &amp; have confidence about the whole system? TDD composes all these little bits of reified confidence to give you a sense of the health of the whole system. If that composition doesn’t work, if the emergent properties dominate, then you shouldn’t bother with TDD.</p></li><li><p>We can keep tests in some part of the <a href="http://testdesiderata.com/">test desiderata</a> acceptable zone. If I write non-determinstic tests, if I write slow tests, if I write tests that are coupled to the structure of the system, if it takes me forever to write the test setup, then TDD will just be annoying. I think these are all software design issues, not testing issues.</p></li></ul><h2>Application</h2><p>And so to Soundararanjan’s question: given the constraints as presented, then only apply TDD when the costs are reasonable. I’ve just made 5 minute changes to code when:</p><ul><li><p>Testing that change would have required hours &amp;</p></li><li><p>I had other ways to double-check my change.</p></li></ul><p>I also look for ways to erase those constraints. What would the system’s structure need to be for it to be easy to test? I don’t necessarily make those structure changes now, but I want that option to be available.</p><p>We agree, Soundararajan.</p><div class="captioned-image-container"><figure><a class="image-link image2" target="_blank" href="https://substackcdn.com/image/fetch/$s_!0TlV!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e5836e0-d88d-45de-8ab0-a46b32f5ce91_582x214.png" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!0TlV!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e5836e0-d88d-45de-8ab0-a46b32f5ce91_582x214.png 424w, https://substackcdn.com/image/fetch/$s_!0TlV!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e5836e0-d88d-45de-8ab0-a46b32f5ce91_582x214.png 848w, https://substackcdn.com/image/fetch/$s_!0TlV!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e5836e0-d88d-45de-8ab0-a46b32f5ce91_582x214.png 1272w, https://substackcdn.com/image/fetch/$s_!0TlV!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e5836e0-d88d-45de-8ab0-a46b32f5ce91_582x214.png 1456w" sizes="100vw"><img src="https://substack-post-media.s3.amazonaws.com/public/images/9e5836e0-d88d-45de-8ab0-a46b32f5ce91_582x214.png" width="582" height="214" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9e5836e0-d88d-45de-8ab0-a46b32f5ce91_582x214.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:214,&quot;width&quot;:582,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:38188,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="" srcset="https://substackcdn.com/image/fetch/$s_!0TlV!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e5836e0-d88d-45de-8ab0-a46b32f5ce91_582x214.png 424w, https://substackcdn.com/image/fetch/$s_!0TlV!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e5836e0-d88d-45de-8ab0-a46b32f5ce91_582x214.png 848w, https://substackcdn.com/image/fetch/$s_!0TlV!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e5836e0-d88d-45de-8ab0-a46b32f5ce91_582x214.png 1272w, https://substackcdn.com/image/fetch/$s_!0TlV!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e5836e0-d88d-45de-8ab0-a46b32f5ce91_582x214.png 1456w" sizes="100vw" loading="lazy"></picture><div></div></div></a></figure></div><p>And Frank, we agree that you should write tests &amp; code in whatever order you want. It seems a bold claim that the order doesn’t matter. Code however you want &amp; then deal with the consequences. You &amp; your customers, deal with the consequences. Bless your heart.</p>