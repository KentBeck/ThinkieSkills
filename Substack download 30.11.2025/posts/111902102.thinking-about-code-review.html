<p>Think about your team workflow. Then try what makes sense for your context. Then adjust. The most exciting words in engineering are, “It turns out…”.</p><p>A recent Twitter kerfuffle about the pull request team workflow happened to mention me. The last thing I want to do is to participate in another pissing contest about code reviews, but here I am.</p><div data-component-name="Twitter2ToDOM" class="tweet" data-attrs="{&quot;url&quot;:&quot;https://twitter.com/ramtop/status/1641690501416984578?s=20&quot;,&quot;full_text&quot;:&quot;\&quot;Why you're not using PRs in your project?\&quot;\n\&quot;Because we prefer to use CI/CD\&quot;\n\&quot;But but...\&quot;\n\&quot;Listen, <span class=\&quot;tweet-fake-link\&quot;>@KentBeck</span> invented CI, <span class=\&quot;tweet-fake-link\&quot;>@davefarley77</span> invented CD. They both agree that PRs and feature branches are incompatible with CI/CD.\nWhat do you know that they don't?\&quot;&quot;,&quot;username&quot;:&quot;ramtop&quot;,&quot;name&quot;:&quot;Uberto Barbini&quot;,&quot;date&quot;:&quot;Fri Mar 31 06:34:51 +0000 2023&quot;,&quot;photos&quot;:[],&quot;quoted_tweet&quot;:{},&quot;retweet_count&quot;:31,&quot;like_count&quot;:151,&quot;expanded_url&quot;:{},&quot;video_url&quot;:null,&quot;belowTheFold&quot;:false}"><a class="tweet-link-top" href="https://twitter.com/ramtop/status/1641690501416984578?s=20" target="_blank"><div class="tweet-header"><img class="tweet-header-avatar" src="https://substackcdn.com/image/twitter_name/w_96/ramtop.jpg" alt="Twitter avatar for @ramtop"><div class="tweet-header-text"><span class="tweet-author-name">Uberto Barbini </span><span class="tweet-author-handle">@ramtop</span></div></div><div class="tweet-text">"Why you're not using PRs in your project?"
"Because we prefer to use CI/CD"
"But but..."
"Listen, <span class="tweet-fake-link">@KentBeck</span> invented CI, <span class="tweet-fake-link">@davefarley77</span> invented CD. They both agree that PRs and feature branches are incompatible with CI/CD.
What do you know that they don't?"</div></a><a class="tweet-link-bottom" href="https://twitter.com/ramtop/status/1641690501416984578?s=20" target="_blank"><div class="tweet-footer"><span class="tweet-date">6:34 AM ∙ Mar 31, 2023</span><hr><div class="tweet-ufi"><span href="https://twitter.com/ramtop/status/1641690501416984578?s=20/likes" class="likes"><span class="like-count">151</span>Likes</span><span href="https://twitter.com/ramtop/status/1641690501416984578?s=20/retweets" class="retweets"><span class="rt-count">31</span>Retweets</span></div></div></a></div><p>Before we go any further, please note that I don’t have anything to sell here. I don’t win or lose anything if you do or don’t have reviews, or issue certain Git commands in a certain order, or call your flow “continuous integration” when it isn’t. I’m a big fan of you working in a way that meets your needs, pursuant to “helping geeks feel safe in the world”.</p><h2>Jobs To Be Done</h2><p>What effects are code reviews supposed to have on team software development?</p><ul><li><p>Reduce behavioral errors.</p></li><li><p>Reduce structural errors.</p></li><li><p>Improve team understanding.</p></li><li><p>Accelerate learning.</p></li><li><p>Reduce team risk.</p></li></ul><h2>Principles</h2><p>A bunch of folks are making changes to the same system. In what order &amp; at what granularity should they separate, work, &amp; integrate?</p><ul><li><p>Flow. All else being equal, smaller batches of value more frequently are worth more than larger batches of value less frequently.</p></li><li><p>Rowing. We’re all in the same boat, so it doesn’t matter how fast one person can row, it matters how fast we can row together.</p></li><li><p>Overhead. Every increment costs, so have as few increments as possible. (Yes, this contradicts the Principle of Flow. It’s complicated or we wouldn’t see fights about it.)</p></li><li><p>Alignment. Align authority (the ability to take action) with responsibility (consequences flowing towards power).</p></li><li><p>Integration. It’s not divide &amp; conquer, it’s divide, conquer, &amp; integrate. Account for the cost of integration. Including mistakes.</p></li></ul><h2>Incentives</h2><p>One aspect of code review that folks seem to discount is the incentives embedded in various styles. For example, here is one dynamic affecting the pull request model:</p><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!Jcvr!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb172916e-4c14-48e0-bef1-ef6794978d2f_1656x1267.jpeg" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!Jcvr!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb172916e-4c14-48e0-bef1-ef6794978d2f_1656x1267.jpeg 424w, https://substackcdn.com/image/fetch/$s_!Jcvr!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb172916e-4c14-48e0-bef1-ef6794978d2f_1656x1267.jpeg 848w, https://substackcdn.com/image/fetch/$s_!Jcvr!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb172916e-4c14-48e0-bef1-ef6794978d2f_1656x1267.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!Jcvr!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb172916e-4c14-48e0-bef1-ef6794978d2f_1656x1267.jpeg 1456w" sizes="100vw"><img src="https://substack-post-media.s3.amazonaws.com/public/images/b172916e-4c14-48e0-bef1-ef6794978d2f_1656x1267.jpeg" width="520" height="397.85714285714283" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b172916e-4c14-48e0-bef1-ef6794978d2f_1656x1267.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1114,&quot;width&quot;:1456,&quot;resizeWidth&quot;:520,&quot;bytes&quot;:391734,&quot;alt&quot;:&quot;Larger PR size leads to longer delays leads to more time to make changes leads to larger PR size.&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="Larger PR size leads to longer delays leads to more time to make changes leads to larger PR size." title="Larger PR size leads to longer delays leads to more time to make changes leads to larger PR size." srcset="https://substackcdn.com/image/fetch/$s_!Jcvr!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb172916e-4c14-48e0-bef1-ef6794978d2f_1656x1267.jpeg 424w, https://substackcdn.com/image/fetch/$s_!Jcvr!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb172916e-4c14-48e0-bef1-ef6794978d2f_1656x1267.jpeg 848w, https://substackcdn.com/image/fetch/$s_!Jcvr!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb172916e-4c14-48e0-bef1-ef6794978d2f_1656x1267.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!Jcvr!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb172916e-4c14-48e0-bef1-ef6794978d2f_1656x1267.jpeg 1456w" sizes="100vw" loading="lazy"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></button><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></button></div></div></div></a></figure></div><p>Larger pull requests lead to longer delays which lead to more time to make changes which leads to larger pull requests. (There are inhibiting loops that push pull requests smaller, but this reinforcing loop is still in place.)</p><p>As with all reinforcing loops, we can reverse this loop by finding a place to influence it. For example, by reducing the delay for review we have less “extra” time for development leading to smaller pull requests leading to less delay.</p><p>My point here is that any team flow we choose works in a system &amp; that system creates incentives. Choose the team flow that creates the incentives you want &amp; avoid the perverse incentives you want to avoid.</p><h2>Dimensions of Variability</h2><p>An under-explored aspect to team flow is the dimensions of variability. I’ve got two:</p><ul><li><p>Blocking</p></li><li><p>Synchronous</p></li></ul><p>One dimension is blocking versus non-blocking. Can the change go to production without a review?</p><p>One part of the answer to this question is the reversibility of the change. If, like most structure changes, the change is reversible, the value of blocking shrinks. Likewise, if the probability of an adverse behavior change (or “bug”) is low enough, then the value of blocking shrinks.</p><p>The second dimension that I think matters is whether review is synchronous or asynchronous. Once you “complete” a change, does review happen immediately, some time later, or (as with collaborative development—pairing/ensemble) during the change?</p><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!OD-L!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4e6f0b7-5dfd-448b-b8df-adc8fe68f3f7_1693x644.jpeg" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!OD-L!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4e6f0b7-5dfd-448b-b8df-adc8fe68f3f7_1693x644.jpeg 424w, https://substackcdn.com/image/fetch/$s_!OD-L!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4e6f0b7-5dfd-448b-b8df-adc8fe68f3f7_1693x644.jpeg 848w, https://substackcdn.com/image/fetch/$s_!OD-L!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4e6f0b7-5dfd-448b-b8df-adc8fe68f3f7_1693x644.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!OD-L!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4e6f0b7-5dfd-448b-b8df-adc8fe68f3f7_1693x644.jpeg 1456w" sizes="100vw"><img src="https://substack-post-media.s3.amazonaws.com/public/images/d4e6f0b7-5dfd-448b-b8df-adc8fe68f3f7_1693x644.jpeg" width="1456" height="554" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d4e6f0b7-5dfd-448b-b8df-adc8fe68f3f7_1693x644.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:554,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:217959,&quot;alt&quot;:&quot;Are reviews blocking or non-blocking versus are they synchronous or asynchronous?&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="Are reviews blocking or non-blocking versus are they synchronous or asynchronous?" title="Are reviews blocking or non-blocking versus are they synchronous or asynchronous?" srcset="https://substackcdn.com/image/fetch/$s_!OD-L!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4e6f0b7-5dfd-448b-b8df-adc8fe68f3f7_1693x644.jpeg 424w, https://substackcdn.com/image/fetch/$s_!OD-L!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4e6f0b7-5dfd-448b-b8df-adc8fe68f3f7_1693x644.jpeg 848w, https://substackcdn.com/image/fetch/$s_!OD-L!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4e6f0b7-5dfd-448b-b8df-adc8fe68f3f7_1693x644.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!OD-L!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4e6f0b7-5dfd-448b-b8df-adc8fe68f3f7_1693x644.jpeg 1456w" sizes="100vw" loading="lazy"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></button><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></button></div></div></div></a></figure></div><p>I think there is fruitful space to explore in the bottom right. What if you had something kind of like NewsFeed, but for all the changes to the system. If change happened to a part of the system you weren’t terribly interested in you might get a high-level summary of the change. If the change was likely to interfere with a change you were making, then you’d be notified in detail &amp; immediately. (I have a plan for implementing this if you’re curious.)</p><h2>Conclusion</h2><p>Pick the style of review that matches your context. Invent a new one if necessary. Don’t just copy the open source pull request model just cause. Think. Experiment. Share.</p><p></p><p></p>