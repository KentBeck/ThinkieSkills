<blockquote><p>I’m thankful for your support of Tidy First. Here’s a tidying that I don’t think I’ve talked about before. If you’d like me to give a talk to your team or organization, please: </p><div class="directMessage button" data-attrs="{&quot;userId&quot;:24333739,&quot;userName&quot;:&quot;Kent Beck&quot;,&quot;canDm&quot;:null,&quot;dmUpgradeOptions&quot;:null,&quot;isEditorNode&quot;:true}" data-component-name="DirectMessageToDOM"></div></blockquote><p><code>int x, y<br>…<br>int y, x</code></p><p>What’s going on here? X is before y in the first line. That makes sense. Is there some difference in the second line that makes y come before x?</p><p>One basic principle when coding for human understanding is that difference should signal difference. Stated another way, things should be the same unless they should be different. Not sure either of those is exactly right. I’ll try again.</p><p>When bits of code are different for no good reason, people stop trusting what they read. “Oh, those are different but it doesn’t matter.” Yeah, but it does this time. “Oh, those are the same but actually they are different.” No, they really are coupled.</p><p>This principle applies to many different elements in design. We are going to focus in this tidying on one aspect—declaration order. Fields, temporary variables, parameters—all should follow a canonical order. If it’s <code>find(needle, haystack)</code> in one spot, then it’s <code>find(needle, haystack)</code> everywhere.</p><h2>Conflict</h2><p>There’s a sense in which this tidying belongs in <em>Tidy Together</em> because if we want to move towards Canonical Order, we have to move together. If your haystacks come before your needles, then you &amp; I need to have a talk.</p><p>These talks can be difficult. We disagree. It’d be good for the whole team if we agreed.</p><p>I’ve seen canonical order conversations get so contentious that, while folks agreed on the property of canonical order, they couldn’t agree on any principles for that order. One team used alphabetical order, which was horrible. I was forever trying to figure out where in a list a new declaration would go. Clusters of elements such as those used in Parameters Object or Fields Object were hard to spot.</p><p>Have the conversations. When you disagree, try to figure out your underlying principles.</p><h2>Getting Closer</h2><p>A code base of any size will always only approach canonical order (although with augmented design we may be able to get closer). Tidy First to get closer. Need to change some code with out-of-order temporary variables? Tidy them first. Fire off a PR. Then make your changes.</p><p>Moving towards canonical parameter order is a good case for a parallel. Say you’re about to call:</p><p><code>function find(haystack, needle)</code></p><p>You introduce:</p><p><code>function find2(needle, haystack) return find(haystack, needle)</code></p><p>And call it instead.</p><p>Then you Tidy After to change all callers of <code>find</code> to <code>find2</code>. Inline <code>find</code> and delete the function. Rename <code>find2</code> to <code>find</code>.</p>