<blockquote><p>Here I go changing the outline already. Oh well, that’s what happens when you start writing. “I want to talk about this but dang I have to talk about that first.”</p></blockquote><p>I promised you a bag full of refactorings to reduce coupling, increase cohesion, clear spotty skin, &amp; reduce puffiness. Well, those first two anyway. I’ll get to those techniques in just a second but first I have to provide the absolute minimum of background. Which, it turns out, is not nothing. Even with Tidy First? read &amp; understood, these refactorings require some prerequisites before they make sense.</p><p>The alternative to the principle &amp; the technique in this chapter is to go from one design directly to another. If you can do that, safely &amp; efficiently &amp; socially responsibly, well, then do that. But when something goes wrong, you’re going to wish for the principle &amp; the technique in this chapter. Good news is, with version control, you can revert &amp; start over. Not the socially responsible part. When that ship sails, it sails. But at least the “not breaking things” part.</p><h2>The Safety Principle</h2><p>The fundamental principle of Empirical Software Design is that when there is a tradeoff between safety &amp; efficiency, always choose safety. In the early stage of a product, design doesn’t matter as much. It’s when a product, &amp; the team attending it, get big that better designs really are noticeably better.</p><p>Don’t do sloppy or deliberately bad design just because you are working on a prototype. But also don’t avoid icky design if that gets a prototype to the “generates feedback” stage.&nbsp;</p><p>When design improvements become valuable &amp; leveraged, the cost of delay has usually dropped enough that a little slower won’t be a lot more expensive. Hence the bias for the Safety Principle towards safety at (nearly any) cost.</p><p>We are trying to avoid infrequent, giant costs by applying the Safety Principle (a topic we’ll explore at length in the Theory section). The challenge is that someone can come along &amp; say, “I can do that faster if I skip all those intermediate steps,” &amp; they’ll almost be right. Almost. The cleverer they are &amp; the more careful they are, the longer they can preserve the illusion that hopping two-footed from rock to wet, slick, moss-covered rock is the quickest way across the river. And then comes that day when nothing could possibly break &amp; it does anyway (programs are unforgiving in that way—they don’t care about the strength of our convictions).</p><p>When a purely-structural change turns out to have behavioral consequences, the costs start piling up:</p><ul><li><p>Debugging costs</p></li><li><p>Remediation costs</p></li><li><p>Social costs</p></li></ul><p>Remember, software design is an exercise in human relationships. Nothing strains a relationship like imposing costs on someone else, interrupting their perfectly good work because you made a mistake, asking them to sacrifice time, energy, &amp; opportunity to you mistake.</p><p>The Safety Principle safeguards our time &amp; more importantly the social cohesion of our team. The “extra” steps (which I’m about to describe) are the insurance premiums we pay to ensure we can keep moving forward together.</p><h2>The Parallels Technique</h2><p>We implement the Safety Principle through the technique of Parallels—the old design &amp; the new design will temporarily co-exist (the same technique supports architectural evolution discussed in book 3). The design was _this_ &amp; we want it to be _that_, so we will add _that_ before removing _this_. Add the new before removing the old.</p><p>For example, we have an API that takes a collection as an argument. Suspicion followed by analysis shows us that this collection only ever has a single element. We want the API to change to accept a scalar argument instead of a collection. We will need to change a bunch of callers of the API &amp; the definition of the API itself.</p><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!0hK5!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67166bf5-0f0d-45e4-bf90-b860df2f19b5.heic" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!0hK5!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67166bf5-0f0d-45e4-bf90-b860df2f19b5.heic 424w, https://substackcdn.com/image/fetch/$s_!0hK5!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67166bf5-0f0d-45e4-bf90-b860df2f19b5.heic 848w, https://substackcdn.com/image/fetch/$s_!0hK5!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67166bf5-0f0d-45e4-bf90-b860df2f19b5.heic 1272w, https://substackcdn.com/image/fetch/$s_!0hK5!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67166bf5-0f0d-45e4-bf90-b860df2f19b5.heic 1456w" sizes="100vw"><img src="https://substack-post-media.s3.amazonaws.com/public/images/67166bf5-0f0d-45e4-bf90-b860df2f19b5.heic" width="1456" height="680" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/67166bf5-0f0d-45e4-bf90-b860df2f19b5.heic&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:680,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:700515,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/heic&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="" srcset="https://substackcdn.com/image/fetch/$s_!0hK5!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67166bf5-0f0d-45e4-bf90-b860df2f19b5.heic 424w, https://substackcdn.com/image/fetch/$s_!0hK5!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67166bf5-0f0d-45e4-bf90-b860df2f19b5.heic 848w, https://substackcdn.com/image/fetch/$s_!0hK5!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67166bf5-0f0d-45e4-bf90-b860df2f19b5.heic 1272w, https://substackcdn.com/image/fetch/$s_!0hK5!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67166bf5-0f0d-45e4-bf90-b860df2f19b5.heic 1456w" sizes="100vw" loading="lazy"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></button><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></button></div></div></div></a></figure></div><p>How can we make this change safer? The Parallels Technique tells us to add the new before removing the old. The first step is to add a parameter to the API &amp; all callers. The value of the parameter doesn’t have to be correct yet. The first step is complete. We can push this code to production with (nearly) zero chance of error (more nearly zero if we used an automated tool to add the parameter).</p><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!bNGZ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F819535e8-27ab-4a50-95f4-1d030e06bb9a.heic" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!bNGZ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F819535e8-27ab-4a50-95f4-1d030e06bb9a.heic 424w, https://substackcdn.com/image/fetch/$s_!bNGZ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F819535e8-27ab-4a50-95f4-1d030e06bb9a.heic 848w, https://substackcdn.com/image/fetch/$s_!bNGZ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F819535e8-27ab-4a50-95f4-1d030e06bb9a.heic 1272w, https://substackcdn.com/image/fetch/$s_!bNGZ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F819535e8-27ab-4a50-95f4-1d030e06bb9a.heic 1456w" sizes="100vw"><img src="https://substack-post-media.s3.amazonaws.com/public/images/819535e8-27ab-4a50-95f4-1d030e06bb9a.heic" width="1456" height="436" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/819535e8-27ab-4a50-95f4-1d030e06bb9a.heic&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:436,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:273400,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/heic&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="" srcset="https://substackcdn.com/image/fetch/$s_!bNGZ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F819535e8-27ab-4a50-95f4-1d030e06bb9a.heic 424w, https://substackcdn.com/image/fetch/$s_!bNGZ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F819535e8-27ab-4a50-95f4-1d030e06bb9a.heic 848w, https://substackcdn.com/image/fetch/$s_!bNGZ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F819535e8-27ab-4a50-95f4-1d030e06bb9a.heic 1272w, https://substackcdn.com/image/fetch/$s_!bNGZ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F819535e8-27ab-4a50-95f4-1d030e06bb9a.heic 1456w" sizes="100vw" loading="lazy"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></button><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></button></div></div></div></a></figure></div><p>One option is to go through the callers and make sure they all pass the right value. Again, this is deployable code. We’re not done with our design change but that’s okay, there will always be design changes in flight.</p><div class="captioned-image-container"><figure><a class="image-link image2" target="_blank" href="https://substackcdn.com/image/fetch/$s_!H3Y8!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f06d9ca-fcb8-4242-85aa-30fc0ae9bef2.heic" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!H3Y8!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f06d9ca-fcb8-4242-85aa-30fc0ae9bef2.heic 424w, https://substackcdn.com/image/fetch/$s_!H3Y8!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f06d9ca-fcb8-4242-85aa-30fc0ae9bef2.heic 848w, https://substackcdn.com/image/fetch/$s_!H3Y8!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f06d9ca-fcb8-4242-85aa-30fc0ae9bef2.heic 1272w, https://substackcdn.com/image/fetch/$s_!H3Y8!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f06d9ca-fcb8-4242-85aa-30fc0ae9bef2.heic 1456w" sizes="100vw"><img src="https://substack-post-media.s3.amazonaws.com/public/images/5f06d9ca-fcb8-4242-85aa-30fc0ae9bef2.heic" width="1456" height="348" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5f06d9ca-fcb8-4242-85aa-30fc0ae9bef2.heic&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:348,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:376490,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/heic&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="" srcset="https://substackcdn.com/image/fetch/$s_!H3Y8!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f06d9ca-fcb8-4242-85aa-30fc0ae9bef2.heic 424w, https://substackcdn.com/image/fetch/$s_!H3Y8!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f06d9ca-fcb8-4242-85aa-30fc0ae9bef2.heic 848w, https://substackcdn.com/image/fetch/$s_!H3Y8!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f06d9ca-fcb8-4242-85aa-30fc0ae9bef2.heic 1272w, https://substackcdn.com/image/fetch/$s_!H3Y8!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5f06d9ca-fcb8-4242-85aa-30fc0ae9bef2.heic 1456w" sizes="100vw" loading="lazy"></picture><div></div></div></a></figure></div><p>Once we know the value of price is correct we can change the implementation of the API.&nbsp;</p><div class="captioned-image-container"><figure><a class="image-link image2" target="_blank" href="https://substackcdn.com/image/fetch/$s_!i99M!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F94a83398-0ddc-4bb0-a6ad-bf084e0ed666.heic" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!i99M!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F94a83398-0ddc-4bb0-a6ad-bf084e0ed666.heic 424w, https://substackcdn.com/image/fetch/$s_!i99M!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F94a83398-0ddc-4bb0-a6ad-bf084e0ed666.heic 848w, https://substackcdn.com/image/fetch/$s_!i99M!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F94a83398-0ddc-4bb0-a6ad-bf084e0ed666.heic 1272w, https://substackcdn.com/image/fetch/$s_!i99M!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F94a83398-0ddc-4bb0-a6ad-bf084e0ed666.heic 1456w" sizes="100vw"><img src="https://substack-post-media.s3.amazonaws.com/public/images/94a83398-0ddc-4bb0-a6ad-bf084e0ed666.heic" width="1456" height="315" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/94a83398-0ddc-4bb0-a6ad-bf084e0ed666.heic&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:315,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:405780,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/heic&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="" srcset="https://substackcdn.com/image/fetch/$s_!i99M!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F94a83398-0ddc-4bb0-a6ad-bf084e0ed666.heic 424w, https://substackcdn.com/image/fetch/$s_!i99M!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F94a83398-0ddc-4bb0-a6ad-bf084e0ed666.heic 848w, https://substackcdn.com/image/fetch/$s_!i99M!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F94a83398-0ddc-4bb0-a6ad-bf084e0ed666.heic 1272w, https://substackcdn.com/image/fetch/$s_!i99M!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F94a83398-0ddc-4bb0-a6ad-bf084e0ed666.heic 1456w" sizes="100vw" loading="lazy"></picture><div></div></div></a></figure></div><p>When prices is no longer referenced in the implementation, then we can delete it from the declaration &amp; all the callers.</p><div class="captioned-image-container"><figure><a class="image-link image2" target="_blank" href="https://substackcdn.com/image/fetch/$s_!eIrq!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f170d96-a258-4f7c-a08e-4a19261c4408.heic" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!eIrq!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f170d96-a258-4f7c-a08e-4a19261c4408.heic 424w, https://substackcdn.com/image/fetch/$s_!eIrq!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f170d96-a258-4f7c-a08e-4a19261c4408.heic 848w, https://substackcdn.com/image/fetch/$s_!eIrq!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f170d96-a258-4f7c-a08e-4a19261c4408.heic 1272w, https://substackcdn.com/image/fetch/$s_!eIrq!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f170d96-a258-4f7c-a08e-4a19261c4408.heic 1456w" sizes="100vw"><img src="https://substack-post-media.s3.amazonaws.com/public/images/7f170d96-a258-4f7c-a08e-4a19261c4408.heic" width="1456" height="300" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7f170d96-a258-4f7c-a08e-4a19261c4408.heic&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:300,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:311183,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/heic&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="" srcset="https://substackcdn.com/image/fetch/$s_!eIrq!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f170d96-a258-4f7c-a08e-4a19261c4408.heic 424w, https://substackcdn.com/image/fetch/$s_!eIrq!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f170d96-a258-4f7c-a08e-4a19261c4408.heic 848w, https://substackcdn.com/image/fetch/$s_!eIrq!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f170d96-a258-4f7c-a08e-4a19261c4408.heic 1272w, https://substackcdn.com/image/fetch/$s_!eIrq!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f170d96-a258-4f7c-a08e-4a19261c4408.heic 1456w" sizes="100vw" loading="lazy"></picture><div></div></div></a></figure></div><p>(Once we’ve done this there is likely further tidying possible in both the callers &amp; the implementation.)</p><p>And there we have it! We’ve gone from the old design to the new design in teensy, tiny, safe steps. Each step is deployable (if deployments are cheap enough). Each step focused on moving a single aspect of the structure forward, reducing errors.</p><p>Could we have made the whole change in one two-footed leap? Probably. But why risk a leap when the social cohesion of the team is at stake? Why risk it when we might be interrupted mid-design-change by something genuinely more important, and risk throwing away our half-completed work? Better to put one foot on the new rock while keeping the other on the old, then gradually shifting our weight.</p><p>One effect of consistently applying the Parallels Technique is that scale becomes less important. Whether we make a change in 4 steps or 20, if the steps are all fool-proof (me being an engineer I have to say “nearly fool-proof”), then whether we’re part of a big change or a small change matters less. There is a skill to be learned (right here in these pages!) in figuring out those 20 steps, but that skill requires less effort to learn than the effort required to expand your brain to galactic scale.</p><p>What about if you simply can’t figure out a way to apply the Parallels Technique? Then you either live without changing the structure or you change the structure in a leap. Development is full of tradeoffs. Every time I’ve thought a leap was absolutely necessary, though, I have reflected afterwards, often discovering a new twist on the Parallels Technique that would have gotten me from old to new in small, safe steps.</p><p>The importance of the Parallels Technique will come up frequently when we discuss refactorings, frequently enough that I had to pull it up front. In fact, we’ll see it when we discuss extracting &amp; inlining functions in the next chapter.</p><p>(Bonus homework—at the step where we started passing the correct value in the new parameter we could instead have started using the new parameter in the implementation. Try it both ways.)</p>