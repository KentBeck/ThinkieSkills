<p>The fun thing about writing this series is that it’s all stuff I’ve “known” for 25 years. Now, having to explain it, I get to understand <em>why</em>. Understanding why is my biggest driver &amp; here’s a big chance.</p><p>I took a step too far when I introduced bi-temporality in <a href="https://tidyfirst.substack.com/p/what-if-you-are-going-to-need-it">the first post of this series</a>. I’m going back to the beginning &amp; start over &amp; take one step forward.</p><h2>The Big Contradiction</h2><p>We want:</p><ul><li><p>The flexibility &amp; reasoning of personal, human attention to the business problems we solve.</p></li><li><p>But also the scalability, repeatability, &amp; efficiency of automated processing.</p></li></ul><p>If we only wanted the first goal, we could just have humans dealing directly with reality. They’d see someone disabled (‘ll be using disability insurance here as an example) &amp; they would just pay them directly.</p><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!jzcJ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa604c0b7-7a0d-4ee9-b27f-f6e9d5bc8c9b_1250x1373.jpeg" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!jzcJ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa604c0b7-7a0d-4ee9-b27f-f6e9d5bc8c9b_1250x1373.jpeg 424w, https://substackcdn.com/image/fetch/$s_!jzcJ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa604c0b7-7a0d-4ee9-b27f-f6e9d5bc8c9b_1250x1373.jpeg 848w, https://substackcdn.com/image/fetch/$s_!jzcJ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa604c0b7-7a0d-4ee9-b27f-f6e9d5bc8c9b_1250x1373.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!jzcJ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa604c0b7-7a0d-4ee9-b27f-f6e9d5bc8c9b_1250x1373.jpeg 1456w" sizes="100vw"><img src="https://substack-post-media.s3.amazonaws.com/public/images/a604c0b7-7a0d-4ee9-b27f-f6e9d5bc8c9b_1250x1373.jpeg" width="352" height="386.6368" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a604c0b7-7a0d-4ee9-b27f-f6e9d5bc8c9b_1250x1373.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1373,&quot;width&quot;:1250,&quot;resizeWidth&quot;:352,&quot;bytes&quot;:298382,&quot;alt&quot;:&quot;Cloudy reality &amp; humans interacting with it directly&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="Cloudy reality &amp; humans interacting with it directly" title="Cloudy reality &amp; humans interacting with it directly" srcset="https://substackcdn.com/image/fetch/$s_!jzcJ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa604c0b7-7a0d-4ee9-b27f-f6e9d5bc8c9b_1250x1373.jpeg 424w, https://substackcdn.com/image/fetch/$s_!jzcJ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa604c0b7-7a0d-4ee9-b27f-f6e9d5bc8c9b_1250x1373.jpeg 848w, https://substackcdn.com/image/fetch/$s_!jzcJ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa604c0b7-7a0d-4ee9-b27f-f6e9d5bc8c9b_1250x1373.jpeg 1272w, https://substackcdn.com/image/fetch/$s_!jzcJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa604c0b7-7a0d-4ee9-b27f-f6e9d5bc8c9b_1250x1373.jpeg 1456w" sizes="100vw" fetchpriority="high"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></button><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></button></div></div></div></a></figure></div><p>It’s impossible to make this consistent or scalable. We want to distribute the benefits of disability insurance as widely as possible.</p><h2>The System</h2><p>And so we write The System to model disability contracts. Something is lost, sure, but something is gained (we can debate capitalism &amp; shareholder value another time—right now we’re trying to build a system that meets its goals through being more complex than the bare minimum).</p><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!ARAO!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb53e5af-f4e7-4134-8f9a-d6c4fe24d2a1.heic" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!ARAO!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb53e5af-f4e7-4134-8f9a-d6c4fe24d2a1.heic 424w, https://substackcdn.com/image/fetch/$s_!ARAO!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb53e5af-f4e7-4134-8f9a-d6c4fe24d2a1.heic 848w, https://substackcdn.com/image/fetch/$s_!ARAO!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb53e5af-f4e7-4134-8f9a-d6c4fe24d2a1.heic 1272w, https://substackcdn.com/image/fetch/$s_!ARAO!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb53e5af-f4e7-4134-8f9a-d6c4fe24d2a1.heic 1456w" sizes="100vw"><img src="https://substack-post-media.s3.amazonaws.com/public/images/bb53e5af-f4e7-4134-8f9a-d6c4fe24d2a1.heic" width="416" height="333.42857142857144" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bb53e5af-f4e7-4134-8f9a-d6c4fe24d2a1.heic&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1167,&quot;width&quot;:1456,&quot;resizeWidth&quot;:416,&quot;bytes&quot;:420281,&quot;alt&quot;:&quot;Messy reality &amp; the tidy system&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/heic&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="Messy reality &amp; the tidy system" title="Messy reality &amp; the tidy system" srcset="https://substackcdn.com/image/fetch/$s_!ARAO!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb53e5af-f4e7-4134-8f9a-d6c4fe24d2a1.heic 424w, https://substackcdn.com/image/fetch/$s_!ARAO!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb53e5af-f4e7-4134-8f9a-d6c4fe24d2a1.heic 848w, https://substackcdn.com/image/fetch/$s_!ARAO!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb53e5af-f4e7-4134-8f9a-d6c4fe24d2a1.heic 1272w, https://substackcdn.com/image/fetch/$s_!ARAO!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb53e5af-f4e7-4134-8f9a-d6c4fe24d2a1.heic 1456w" sizes="100vw" loading="lazy"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></button><button tabindex="0" type="button" class="pencraft pc-reset pencraft icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></button></div></div></div></a></figure></div><p>The people can interact with the system or the system can act scaleably &amp; efficiently.</p><h2>The Simplest Thing That Won’t Work…</h2><p>The simplest way to represent reality in the system is to record what we believe to be true at the moment. As a simplified example, suppose we have a Customer with an Address.</p><p><code>customer = Customer()<br>assert customer.address == ""<br>customer.address = "123 Main St."<br>assert customer.address == "123 Main St."</code></p><p>The implementation of this can be dirt simple (ignoring all the juicy stuff because addresses aren’t strings, use properties, yadda yadda yadda, not my point).</p><p><code>class Customer:<br>    def __init__(self):<br>        self.address = ""</code></p><h2>Two Watches</h2><p>When we split the world into reality out there &amp; what we have recorded in the system, though, we have the Two Watches Problem. When you have one watch, you know what time it is. When you have two watches, you no longer know what time it is because the watches are never exactly the same &amp; you don’t know which one is right.</p><p>We have two timelines to reconcile. Reality advances one second every second. Our system advances in fits &amp; spurts. Sometimes we jump forward a day. Or a year. Sometimes we learn that something changed in the past &amp; we have to repair changes we made in the meantime.</p><p>How can we handle the disconnect between reality &amp; the system?</p><h2>Save All The Data</h2><p>And so we come to the first principle of business architecture—never discard information.</p><p>We are in a tradeoff space here—what is the cost of keeping information versus what is the cost of discarding information? If we discard information we save a little space, but space is cheap. We also simplify our model—there’s an address, that’s the address, end of story. However, when we discard information we are stuck when trying to explain the past. Where did you send last year’s statement? I don’t know, we have your correct address now.</p><p>If we save all historical information, we have to pay for that storage both in electrons somewhere but also in the complexity of our model. What’s the address? The address when?</p><p>For the long term economical functioning of the system, we choose to store all information that enters the system tagged by the moment it entered.</p><h2>So Instead</h2><p>Our interface is going to look like this.</p><p><code>customer = Customer()<br>customer.set_address("123 Main", 1)<br>customer.set_address("456 Main", 2)<br>assert customer.get_address(1) == "123 Main"<br>assert customer.get_address(2) == "456 Main"<br>assert customer.get_address(3) == "456 Main"</code></p><p>I moved down the street as of time 2. Instead of just setting my address, I have to also include a moment as of which the system is going record the address. Instead of just fetching my address, I have to also specify the moment as of which I want my address (we’ll talk later about the options for the type &amp; granularity of these “moments”).</p><p>We replace the single scalar address with a timestamped collection of addresses.</p><p><code>class Customer:<br>    def __init__(self):<br>        self._addresses = History()<br>    def get_address(self, posting):<br>        return self._addresses.get(posting)<br>    def set_address(self, address, posting):<br>        self._addresses.set(address, posting)</code></p><p>As per usual, we cordon off the complexity of storing timestamped values in its own object, History. Setting a value is simple—just record a (moment, event) tuple. (Yes, yes, this is kind of ugly. We’ll make it better later. Chill.)</p><p><code>class History:<br>    def __init__(self):<br>        self._events = []<br>    def set(self, address, posting):<br>        self._events.append((posting, address))</code></p><p>The only cleverness to History is fetching. We sort the events in <em>reverse</em> order of posting time, then return the first event whose posting time is <em>before</em> (or the same as) the event’s posting time.</p><p><code>def get(self, posting):<br>    backwards = sorted(self._events, key=lambda x: x[0], reverse=True)<br>    for eachPosting, eachEvent in backwards:<br>        if eachPosting &lt;= posting:<br>            return eachEvent<br>    raise KeyError()</code></p><h2>Conclusion</h2><p>There you have it, our first “non-obvious complexity but I promise it’s going to pay off” decision. Save all business information forever. Tag the information with the moment we discovered it to be true.</p><p>We’re not done yet. I said jumped too quickly to bi-temporality. With the code &amp; concepts above we’re ready to take a short step to motivating the second dimension of time—effective dating. But that’s for the next post.</p>